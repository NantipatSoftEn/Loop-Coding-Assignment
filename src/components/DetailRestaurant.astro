---
import { restaurants, type IRestaurant } from "../mock/data";

const { id } = Astro.props;
let data: IRestaurant = {
  id: 0,
  name: "",
  type: "",
  phone: "",
  time: {
    open: "",
    close: "",
  },
  day: "",
  image: "",
  detail: "",
};
console.log("id", id);
if (id == 1) {
  data = restaurants[0];
} else if (id == 2) {
  data = restaurants[1];
} else if (id == 3) {
  data = restaurants[2];
}
console.log("restaurants", data);
// if (Astro.request.method === "POST") {
//   try {
//     const data = await Astro.request.formData();
//     const name = data.get("name");
//     const phone = data.get("phone");
//     // Do something with the data
//     console.log("data",data)
//   } catch (error) {
//     if (error instanceof Error) {
//       console.error(error.message);
//     }
//   }
// }
---

<style>
  .header-image {
    width: 100%;
    height: auto;
  }
  .map-image {
    width: 100%;
    height: auto;
  }
  .details-section {
    margin-top: 20px;
  }
  .details-section h5 {
    font-weight: bold;
  }
  .contact-info li {
    list-style: none;
  }
  .note-section {
    font-weight: bold;
  }

  .image-container {
    position: relative;
    width: 100%;
    max-width: 600px; /* Adjust as needed */
  }

  .header-image {
    width: 100%;
    height: auto;
  }

  .overlay-message {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    text-align: center;
    background-color: rgba(
      0,
      0,
      0,
      0.5
    ); /* Optional: Add a background color with transparency */
    padding: 10px;
    border-radius: 5px;
  }
</style>

<div class="container">
  <!-- Header Image -->
  <div class="row">
    <div class="col-12">
      <div class="card text-bg-dark">
        <img
          src="https://img-service-v3.hungryhub.com/pr:sharp/rs:fill:0:0:0/g:ce/aHR0cHM6Ly9pbWFnZXMuaHVuZ3J5aHViLmNvbS91cGxvYWRzL2Jhbm5lci9kZXNrdG9wX3JldGluYV92ZXJzaW9ucy8zNDMvaG9tZS1wYWdlLWRlc2t0b3BfMTdfYXByLmpwZw==.jpg"
          class="card-img"
          alt="..."
        />
        <div class="card-img-overlay">
          <h1 class="card-title">
            แอปจองมื้อพิเศษอันดับ 1 มากกว่า 1,500 ร้านอาหาร
          </h1>
          <!-- <p class="card-text">จองเลย</p> -->
          <!-- <p class="card-text"><small>Last updated 3 mins ago</small></p> -->
        </div>
      </div>
      <!-- <img
        src="https://img-service-v3.hungryhub.com/pr:sharp/rs:fill:0:0:0/g:ce/aHR0cHM6Ly9pbWFnZXMuaHVuZ3J5aHViLmNvbS91cGxvYWRzL2Jhbm5lci9kZXNrdG9wX3JldGluYV92ZXJzaW9ucy8zNDMvaG9tZS1wYWdlLWRlc2t0b3BfMTdfYXByLmpwZw==.jpg"
        alt="Pattern Cozy Bar"
        class="img-fluid header-image"
      /> -->
    </div>
  </div>

  <!-- Information Section -->
  <div class="row details-section">
    <div class="col-md-6">
      <img src={data.image} alt="Map" class="img-fluid map-image" />
    </div>
    <div class="col-md-6">
      <div class="alert alert-light">
        <h5>{data.name}</h5>
        <ul class="list-unstyled">
          <li>
            <i class="bi bi-calendar"></i> เปิดบริการ: {data.day}
          </li>
          <li>
            <i class="bi bi-clock"></i> เวลาเปิดตั้งแต่ {data.time.open} - {
              data.time.close
            }
          </li>
        </ul>
        <p>ร้านอาหาร: อิตาเลียน</p>
      </div>

      <div class="alert alert-light">
        <h5 class="text-center">Restaurant Reservation</h5>
        <form id="reservation-form" method="POST">
          <div class="mb-3">
            <label for="phone">Number of Guests</label>
            <input
              type="number"
              class="form-control"
              id="guests"
              name="guests"
              min="1"
              max="10"
              pattern="[0-9]{1}"
              required
            />
          </div>
          <div class="mb-3">
            <label for="date" class="form-label">Reservation Date</label>
            <input type="date" class="form-control" id="date" required />
          </div>
          <div class="mb-3">
            <label for="time" class="form-label">Reservation Time</label>
            <input type="time" class="form-control" id="time" required />
          </div>
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Details Section -->
  <div class="row details-section">
    <div class="col-12 alert alert-light">
      <h5>รายละเอียด</h5>
      <div set:html={data.detail} />
    </div>
  </div>
</div>
